@import "tailwindcss";

/* Base tokens (fallbacks if no brand is set) */
:root {
    --radius: 12px;
    --font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

    /* default light palette */
    --color-primary: 59 130 246;
    --color-secondary: 14 165 233;
    --color-accent: 99 102 241;
    --color-surface: 255 255 255;
    --color-muted: 241 245 249;
    --color-text: 15 23 42;

    /* page background (overridden per-brand + theme) */
    --page-background: linear-gradient(180deg, rgba(246,248,255,1) 0%, rgba(231,240,255,1) 100%);
}

html, body, #app { height: 100%; }
body {
    font-family: var(--font-family);
    background-color: rgb(var(--color-surface));
    color: rgb(var(--color-text));
}

/* Safety-net semantic utilities */
@layer utilities {
    .bg-primary     { background-color: rgb(var(--color-primary)); }
    .bg-secondary   { background-color: rgb(var(--color-secondary)); }
    .bg-accent      { background-color: rgb(var(--color-accent)); }
    .bg-surface     { background-color: rgb(var(--color-surface)); }
    .bg-muted       { background-color: rgb(var(--color-muted)); }

    .text-primary   { color: rgb(var(--color-primary)); }
    .text-secondary { color: rgb(var(--color-secondary)); }
    .text-accent    { color: rgb(var(--color-accent)); }
    .text-text      { color: rgb(var(--color-text)); }

    .rounded-brand  { border-radius: var(--radius); }
    .shadow-brand   { box-shadow: 0 10px 25px -5px rgb(var(--color-primary) / 0.15); }
    .border-primary { border-color: rgb(var(--color-primary)); }
    .border-primary-soft { border-color: rgb(var(--color-primary) / 0.2); }

    .bg-page { background: var(--page-background); }
}

/* --- Component-level styles: global, no scoping headaches --- */
@layer components {
    .brand-button {
        /* built-in utilities via @apply are fine */
        @apply px-3 py-1 text-sm transition-colors duration-200 border;
        /* brand-aware bits via CSS vars */
        border-color: rgb(var(--color-primary) / 0.2);
        border-radius: var(--radius);
        background-color: transparent;
    }

    .brand-button:hover,
    .brand-button:focus-visible {
        background-color: rgb(var(--color-primary) / 0.10);
        outline: none;
    }

    .brand-button.is-active {
        background-color: rgb(var(--color-primary));
        color: white;
        border-color: rgb(var(--color-primary));
        box-shadow: 0 10px 25px -5px rgb(var(--color-primary) / 0.15);
        transform: scale(1.02);
    }

    .brand-button {
        transition: all 0.2s ease;
    }
}
